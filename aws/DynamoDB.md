## なぜ高速に動くのか
NoSQLは一般的にRDBMSより高速に動く。それはなぜか
- 横方向のスケーラビリティが可能
- スキーマレスの構造のため、新しいデータが追加しやすい
    RDBMSだと、BDの設計時にデータの構造を決めないといけない。
    行列の形式で、新しいデータ構造を追加するのが難しい。
    NoSQLはそういった「構造」を持たないので、簡単にデータを追加できる

## テーブルの概念
テーブルは以下の要素で構成されている
- パーティションキー
- ソートキー
- Item(行)
- Attribute(列)
パーティションキーとソートキーによってユニークなItemを表現する。

DynamoDBは内部的にパーティションキー毎にデータとして保持されている。

## インデックス
### インデックスとは
テーブルの一部or全部を別の視点から見るためのもの
インデックスを作成して、それに対してqueryを実行する

Q. なぜインデックスが必要？
初期のパーティションとソートキーではだめ？
A. 初期のパーティションとソートキーでは検索できない場合に使う
さらに、検索の範囲を絞ることで検索速度の向上、読み込み量が減ることでコストの削減につながる

Q. どうやって検索するの？
A. 新たにパーティションキーとソートキーを作成する
それを使って再度検索をかけられる。

インデックスはデータとして保管される。
このデータは新たにストレージに保管される

インデックスにはグローバルセカンダリインデックス(GSI)と
ローカルセカンダリインデックス(LSI)というのが存在する

### グローバルセカンダリインデックス
- 後から作成
- 非同期

### ローカルセカンダリインデックス
- テーブル作成時に作成
- 同期

Q. 同じパーティションキーでソートキーのみを同じパーティションキーの別の値にしたGSIを作成すればLSIと同じ効果が得られるのでは
A. その通り。しかし効率が悪い
GSIはデータのコピー。LSIは元データをそのまま使用するため、GSIにするとストレージコストが倍になる
GSIはデータが非同期でコピーされるため、更新後すぐに対応できないことがある

### 
- テーブルでTTLが設定できる。
- テーブルには標準とIAがある
    - IAはS3のIAと同じように、滅多に使わないデータを格納する
